(function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.Rellax=b()})("undefined"==typeof window?global:window,function(){var a=function(b,c){"use strict";var d=Object.create(a.prototype),e=0,f=0,g=0,h=0,j=[],k=!0,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)},m=null,n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}catch(a){}var p=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,q=window.transformProp||function(){var a=document.createElement("div");if(null===a.style.transform){var b=["Webkit","Moz","ms"];for(var c in b)if(void 0!==a.style[b[c]+"Transform"])return b[c]+"Transform"}return"transform"}();d.options={speed:-4,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},c&&Object.keys(c).forEach(function(a){d.options[a]=c[a]}),c&&c.breakpoints&&function(){if(3===d.options.breakpoints.length&&Array.isArray(d.options.breakpoints)){var a,b=!0,c=!0;if(d.options.breakpoints.forEach(function(d){"number"!=typeof d&&(c=!1),null!==a&&d<a&&(b=!1),a=d}),b&&c)return}d.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}(),b||(b=".rellax");var r="string"==typeof b?document.querySelectorAll(b):[b];if(0<r.length)d.elems=r;else return void console.warn("Rellax: The elements you're trying to select don't exist.");if(d.options.wrapper&&!d.options.wrapper.nodeType){var s=document.querySelector(d.options.wrapper);if(s)d.options.wrapper=s;else return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.")}var t,u=function(a){var b=d.options.breakpoints;return a<b[0]?"xs":a>=b[0]&&a<b[1]?"sm":a>=b[1]&&a<b[2]?"md":"lg"},v=function(){for(var a,b=0;b<d.elems.length;b++)a=x(d.elems[b]),j.push(a)},w=function(){for(var a=0;a<j.length;a++)d.elems[a].style.cssText=j[a].style;j=[],f=window.innerHeight,h=window.innerWidth,t=u(h),y(),v(),C(),k&&(window.addEventListener("resize",w),k=!1,B())},x=function(a){var b,c=a.getAttribute("data-rellax-percentage"),e=a.getAttribute("data-rellax-speed"),g=a.getAttribute("data-rellax-xs-speed"),i=a.getAttribute("data-rellax-mobile-speed"),j=a.getAttribute("data-rellax-tablet-speed"),k=a.getAttribute("data-rellax-desktop-speed"),l=a.getAttribute("data-rellax-vertical-speed"),m=a.getAttribute("data-rellax-horizontal-speed"),n=a.getAttribute("data-rellax-vertical-scroll-axis"),o=a.getAttribute("data-rellax-horizontal-scroll-axis"),p=a.getAttribute("data-rellax-zindex")||0,q=a.getAttribute("data-rellax-min"),r=a.getAttribute("data-rellax-max"),s=a.getAttribute("data-rellax-min-x"),u=a.getAttribute("data-rellax-max-x"),v=a.getAttribute("data-rellax-min-y"),w=a.getAttribute("data-rellax-max-y"),x=!0;g||i||j||k?b={xs:g,sm:i,md:j,lg:k}:x=!1;var y=d.options.wrapper?d.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;if(d.options.relativeToWrapper){var A=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;y=A-d.options.wrapper.offsetTop}var B=d.options.vertical?c||d.options.center?y:0:0,C=d.options.horizontal?c||d.options.center?d.options.wrapper?d.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0:0,D=B+a.getBoundingClientRect().top,E=a.clientHeight||a.offsetHeight||a.scrollHeight,F=C+a.getBoundingClientRect().left,G=a.clientWidth||a.offsetWidth||a.scrollWidth,H=c?c:(B-D+f)/(E+f),I=c?c:(C-F+h)/(G+h);d.options.center&&(I=.5,H=.5);var J=x&&null!==b[t]?+b[t]:e?e:d.options.speed,K=l?l:d.options.verticalSpeed,L=m?m:d.options.horizontalSpeed,M=n?n:d.options.verticalScrollAxis,N=o?o:d.options.horizontalScrollAxis,O=z(I,H,J,K,L),P=a.style.cssText,Q="",R=/transform\s*:/i.exec(P);if(R){var S=R.index,T=P.slice(S),U=T.indexOf(";");Q=U?" "+T.slice(11,U).replace(/\s/g,""):" "+T.slice(11).replace(/\s/g,"")}return{baseX:O.x,baseY:O.y,top:D,left:F,height:E,width:G,speed:J,verticalSpeed:K,horizontalSpeed:L,verticalScrollAxis:M,horizontalScrollAxis:N,style:P,transform:Q,zindex:p,min:q,max:r,minX:s,maxX:u,minY:v,maxY:w}},y=function(){var a=e,b=g;if(e=d.options.wrapper?d.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,g=d.options.wrapper?d.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,d.options.relativeToWrapper){var c=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;e=c-d.options.wrapper.offsetTop}return!!(a!=e&&d.options.vertical)||!!(b!=g&&d.options.horizontal)},z=function(a,b,c,e,f){var g={},h=(f?f:c)*(100*(1-a)),i=(e?e:c)*(100*(1-b));return g.x=d.options.round?Math.round(h):Math.round(100*h)/100,g.y=d.options.round?Math.round(i):Math.round(100*i)/100,g},A=function(){window.removeEventListener("resize",A),window.removeEventListener("orientationchange",A),(d.options.wrapper?d.options.wrapper:window).removeEventListener("scroll",A),(d.options.wrapper?d.options.wrapper:document).removeEventListener("touchmove",A),m=l(B)},B=function(){y()&&!1===k?(C(),m=l(B)):(m=null,window.addEventListener("resize",A),window.addEventListener("orientationchange",A),(d.options.wrapper?d.options.wrapper:window).addEventListener("scroll",A,!!n&&{passive:!0}),(d.options.wrapper?d.options.wrapper:document).addEventListener("touchmove",A,!!n&&{passive:!0}))},C=function(){for(var a,b=0;b<d.elems.length;b++){var c=j[b].verticalScrollAxis.toLowerCase(),k=j[b].horizontalScrollAxis.toLowerCase(),l=-1==c.indexOf("x")?0:e,m=-1==c.indexOf("y")?0:e,n=-1==k.indexOf("x")?0:g,o=-1==k.indexOf("y")?0:g,p=(m+o-j[b].top+f)/(j[b].height+f),r=(l+n-j[b].left+h)/(j[b].width+h);a=z(r,p,j[b].speed,j[b].verticalSpeed,j[b].horizontalSpeed);var s=a.y-j[b].baseY,t=a.x-j[b].baseX;null!==j[b].min&&(d.options.vertical&&!d.options.horizontal&&(s=s<=j[b].min?j[b].min:s),d.options.horizontal&&!d.options.vertical&&(t=t<=j[b].min?j[b].min:t)),null!=j[b].minY&&(s=s<=j[b].minY?j[b].minY:s),null!=j[b].minX&&(t=t<=j[b].minX?j[b].minX:t),null!==j[b].max&&(d.options.vertical&&!d.options.horizontal&&(s=s>=j[b].max?j[b].max:s),d.options.horizontal&&!d.options.vertical&&(t=t>=j[b].max?j[b].max:t)),null!=j[b].maxY&&(s=s>=j[b].maxY?j[b].maxY:s),null!=j[b].maxX&&(t=t>=j[b].maxX?j[b].maxX:t);var u=j[b].zindex,v="translate3d("+(d.options.horizontal?t:"0")+"px,"+(d.options.vertical?s:"0")+"px,"+u+"px) "+j[b].transform;d.elems[b].style[q]=v}d.options.callback(a)};return d.destroy=function(){for(var a=0;a<d.elems.length;a++)d.elems[a].style.cssText=j[a].style;k||(window.removeEventListener("resize",w),k=!0),p(m),m=null},w(),d.refresh=w,d};return a});